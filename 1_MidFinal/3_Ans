--EXERCISE 02 Q2 
SET SERVEROUTPUT ON 
SET VERIFY OFF
ACCEPT S_CUSTID PROMPT 'Enter customer id: '
DECLARE
V_CUSTOMERID CUSTOMER.CUSTOMER_ID%TYPE;
V_LASTNAME EMPLOYEE.LAST_NAME%TYPE;
V_EMPID CUSTOMER.SALESPERSON_ID%TYPE;
V_CUSTNAME CUSTOMER.NAME%TYPE;

BEGIN 
    V_CUSTOMERID := '&S_CUSTID';
    V_LASTNAME:= empSalesPerson(V_CUSTOMERID);
    
    SELECT SALESPERSON_ID, NAME INTO V_EMPID, V_CUSTNAME
    FROM CUSTOMER
    WHERE CUSTOMER_ID = V_CUSTOMERID;
    
    IF V_LASTNAME IS NOT NULL THEN
        DBMS_OUTPUT.PUT_LINE('Enter customer id: '||V_CUSTOMERID);
        DBMS_OUTPUT.PUT_LINE('The employee : ('||V_EMPID||','||V_LASTNAME||') is the sales person of the customer: '||V_CUSTOMERID||','||V_CUSTNAME);
    ELSE
        DBMS_OUTPUT.PUT_LINE('THE INFORMATION THAT CORRESPOND TO THE ID: '||V_CUSTOMERID|| ' DOES NOT EXIST');
    END IF;
EXCEPTION
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('ERROR : WRONG DATA ENTRY NUMBER');
END;
      
