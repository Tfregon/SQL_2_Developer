SET SERVEROUTPUT ON
SET VERIFY OFF
DECLARE
    V_JOBID EMPLOYEE.JOB_ID%TYPE;
    V_JOBTITLE JOB.FUNCTION%TYPE;
    V_MAXSALARY EMPLOYEE.SALARY%TYPE;
    V_MINSALARY EMPLOYEE.SALARY%TYPE;    
BEGIN
        DBMS_OUTPUT.PUT_LINE('JOB ID  MAX SALARY   MIN SALARY   JOB TITLE');
    FOR REC IN (SELECT JOB_ID, FUNCTION, MAX(SALARY) AS MAX_SALARY, MIN(SALARY) AS MIN_SALARY
                FROM EMPLOYEE
                JOIN JOB USING(JOB_ID)
                GROUP BY JOB_ID, FUNCTION)
    LOOP
        V_JOBID := REC.JOB_ID;
        V_JOBTITLE := REC.FUNCTION;
        V_MINSALARY := REC.MIN_SALARY;
        V_MAXSALARY := REC.MAX_SALARY;

        DBMS_OUTPUT.PUT_LINE(V_JOBID ||'        '|| V_MAXSALARY ||'        '||V_MINSALARY||'       '|| V_JOBTITLE);
    END LOOP;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('A INFORMAÇÃO NÃO EXISTE');
END;
